<!DOCTYPE html>
<html lang="en">

<head>
    <title>CAPSIM</title>
    
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1" />

    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta name="robots" content="noindex,nofollow">
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="manifest" href="manifest.json" />
    
    <link rel="stylesheet" href="styles.css">

    <script type="application/javascript" src="/js/pc_utils.js"></script>
    <script type="application/javascript" src="/js/httpHlpr.js"></script>
    <script type="application/javascript" src="/js/radiomessage.js"></script>
    <script type="application/javascript" src="/js/capsim.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script type=”text/javascript” src=”https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js”></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body onload="pageload()">
  <div class="container-fluid min-vh-100 d-flex flex-column">

    <!-- Alert Bar-->
    <div class="row h-10 sticky-top">
        <div class="bg-warning stick-top text-center w-100 collapse" id="alertBar">
            <div class="mb-0 h1 text-center w-100">
                ALERT Bar
            </div>
          </div>
    </div>
    
    <!-- Main View-->
    <div class="row flex-grow-1"">
        
        <!-- Navigation Side Panel-->
      <div class="d-flex text-bg-dark nav nav-tabs border min-vh-100 h-100 position-fixed" style="width: 280px;">
        
        <div class="row">
            <div class="col">
            <a href="#conn" class="d-flex align-items-center text-white text-decoration-none">
                <span class="fs-3 p-2">CAPSIM</span>
                <span class="badge p-1 text-bg-success"> <i class="bi bi-wifi p-1"></i> Online</span>
              </a>
            </div>
        </div>
        <hr>
        
        <ul class="nav nav-pills flex-column mb-auto">
          <li>
            <a href="#comm" class="nav-link text-white" data-bs-toggle="pill" data-bs-target="#comm" type="button" role="tab">
                <i class="bi bi-send"></i>
                Quick Message  
            </a>
          </li>
          <li>
            <a href="#times" class="nav-link text-white" data-bs-toggle="pill" data-bs-target="#times" type="button" role="tab">
                <i class="bi bi-clock"></i>
                Set Times
            </a>
          </li>
          
          <li>
            <a href="#lop" class="nav-link text-white" data-bs-toggle="pill" data-bs-target="#lop" type="button" role="tab">
                <i class="bi bi-pin-angle"></i>
              LOP Report
            </a>
          </li>
          
          <li>
            <a href="#log" class="nav-link text-white" data-bs-toggle="pill" data-bs-target="#log" type="button" role="tab">
                <i class="bi bi-chat-left-text"></i>
                Message Log
            </a>
          </li>
          
          <li class="nav-item">
            <a href="#info" class="nav-link text-white active" data-bs-toggle="pill" data-bs-target="#info" type="button" role="tab">
              <i class="bi bi-house-door"></i>
              Mission Info
            </a>
          </li>
          
          <li>
          <button class="btn nav-link btn-toggle text-white" data-bs-toggle="collapse" data-bs-target="#forms-collapse" aria-expanded="true">
            <i class="bi bi-file-pdf"></i>
            Forms
          </button>
          <div class="collapse hide" id="forms-collapse" style="">
            <ul class="btn-toggle-nav fw-normal pb-1">
              <li><a href="#" class="text-white d-inline-flex text-decoration-none rounded">104A</a></li>
              <li><a href="#" class="text-white d-inline-flex text-decoration-none rounded">104B</a></li>
              <li><a href="#" class="text-white d-inline-flex text-decoration-none rounded">109 P1</a></li>
              <li><a href="#" class="text-white d-inline-flex text-decoration-none rounded">109 P2</a></li>
              <li><a href="#" class="text-white d-inline-flex text-decoration-none rounded">ICS214</a></li>
            </ul>
            </div>
        </li>
          
          <li>
            <a href="#setup" class="nav-link text-white" data-bs-toggle="pill" data-bs-target="#setup" type="button" role="tab">
                <i class="bi bi-gear"></i>
                Setup
            </a>
          </li>
          <li class="nav-item">
            <a href="#debug" class="nav-link text-white collapse" data-bs-toggle="pill" data-bs-target="#debug" type="button" role="tab" id="debug-menu">
                <i class="bi bi-database-fill-gear"></i>
                Debug
            </a>
        </li>

        </ul>       
          
        <hr>

        <div class="align-items-center text-white fs-2 m-2 float-end" id="timeid">
            <p id="timeid">12:34z</p>
        </div>



      </div>
     
      <!-- Main Tab Window-->
      <div class="col text-bg-dark tab-content border min-vh-100 h-100 overflow-y-scroll" style="padding-left:280px">

        <!--Mission Info Tab -->
        <div class="tab-pane fade show active" id="info" role="tabpanel"> 
            Tasking and Comm Plans </div>

        <!--Send Message Tab-->
        <div class="tab-pane fade " id="comm" role="tabpanel"> Send Message </div>
        
        <!--Set Times Tab-->
        <div class="tab-pane fade " id="times" role="tabpanel"> 
          <div class="accordion" id="accordionTimes">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  Engine Start
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionTimes">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col-4">
                      <label class="form-label" for="StartTime">Start Time: </label>
                      <div class="input-group mb-3">
                       <input class="form-control" type="time" value="unset" id="StartTime"/>
                       <span class="input-group-text" id="basic-addon1">Z</span>
                      </div>
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="StartHobbs">Start Hobbs: </label>
                      <input type="number" class="form-control" id="StartHobbs" min="0" max="10000" step="0.1">
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="StartTach">Start Tach: </label>
                      <input type="number" class="form-control" id="StartTach" min="0" max="10000" step="0.1">
                    </div>
                  </div>
                  <div class="row">
                    <button type="submit" class="btn btn-primary">Send Engine Start</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  Take-Off Time
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionTimes">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col-12">
                      <label class="form-label" for="TOTime"> Takeoff Time: </label>
                      <div class="input-group mb-3">
                       <input class="form-control" type="time" value="unset" id="TOTime" />
                       <span class="input-group-text" id="basic-addon1">Z</span>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <button type="submit" class="btn btn-primary">Send Takeoff Time</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  Landing Time
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionTimes">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col-12">
                      <label class="form-label" for="LandingTime"> Landing Time: </label>
                      <div class="input-group mb-3">
                       <input class="form-control" type="time" value="unset" id="LandingTime" />
                       <span class="input-group-text" id="basic-addon1">Z</span>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <button type="submit" class="btn btn-primary">Send Landing Time</button>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                  Engine Stop
                </button>
              </h2>
              <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionTimes">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col-4">
                      <label class="form-label" for="StopTime">Stop Time: </label>
                      <div class="input-group mb-3">
                       <input class="form-control" type="time" value="unset" id="StopTime"/>
                       <span class="input-group-text" id="basic-addon1">Z</span>
                      </div>
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="StopHobbs">Stop Hobbs: </label>
                      <input type="number" class="form-control" id="StopHobbs" min="0" max="10000" step="0.1">
                    </div>
                    <div class="col-4">
                      <label class="form-label" for="StopTach">Stop Tach: </label>
                      <input type="number" class="form-control" id="StopTach" min="0" max="10000" step="0.1">
                    </div>
                  </div>
                  <div class="row">
                    <button type="submit" class="btn btn-primary">Send Engine Stop</button>
                  </div>
                </div>
              </div>
            </div>
          </div>        
        </div>

        
        <!-- Comm Log Tab-->
        <div class="tab-pane fade " id="log" role="tabpanel"> 

          <div class="d-flex flex-column p-4 gap-4 py-md-5 align-items-center justify-content-center">
            
            <div class="" id="queuedMessage">
            <h4>Queued Messages</h4>
            <div class="list-group w-100">
            <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
              <i class="bi bi-airplane"></i>
              <div class="d-flex gap-2 w-100 justify-content-between">
                <div>
                  <h6 class="mb-0">RTB</h6>
                </div>
                <small class="opacity-50 text-nowrap">0037z</small>
              </div>
            </a>
            </div>
          </div>
            
            <h4>Message Log</h4>
            <div class="list-group w-100">
              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">RTB</h6>
                  </div>
                  <small class="opacity-50 text-nowrap">0037z</small>
                </div>
              </a>
              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">DEP</h6>
                    <p class="mb-0 opacity-75">DEP updated to 1820Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">0016Z</small>
                </div>
              </a>
              <a href="#" class="list-group-item list-group-item-primary list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h5 class="mb-0">Beacon First Heard</h6>
                    <h6 class="mb-0">Engine Start</h6>
                    <p class="mb-0 opacity-75">5 MIN AGO ATD updated to 1610Z OPS Normal.</p>
                  </div>
                  <small class="opacity-50 text-nowrap">1610z</small>
                </div>
              </a>

                <a href="#" class="list-group-item list-group-item-warning list-group-item-action d-flex gap-3 py-3" >
                  <small class="opacity-50 text-nowrap">2354z</small>
                  <button class="btn btn-outline-primary">ACK</button>
                  <div class="d-flex gap-2 w-100 justify-content-end">
                    <div>
                      <p class="mb-0 opacity-75">Aaron, call Redrock Command on R18 this is a long message because there are lots to say, may be go to these specific coordinates...</p>
                      
                    </div>
                    <i class="bi bi-buildings"></i>
                  </div>
                </a>
              
              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-success list-group-item-action d-flex gap-3 py-3" >
                
                <small class="opacity-50 text-nowrap">2354z</small>
                <div class="d-flex gap-2 w-100 justify-content-end">
                  <div>
                    <p class="mb-0 opacity-75">Please update ARV time</p>
                  </div>
                  <i class="bi bi-buildings"></i>  
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>

              <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" >
                <i class="bi bi-airplane"></i>
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">ARV</h6>
                    <p class="mb-0 opacity-75">ARV updated to 1801Z</p>
                  </div>
                  <small class="opacity-50 text-nowrap">2316Z</small>
                </div>
              </a>
            </div>
          </div>
          

          
        </div>

        <!--LOP Tab-->
        <div class="tab-pane fade " id="lop" role="tabpanel"> lop </div>

        <!-- Setup tab-->
        <div class="tab-pane fade container p-3" id="setup" role="tabpanel"> 
          <form>
            <div class="mb-1">
                <label class="form-label" for="inputCapid">CAP ID</label>
                <input type="number" class="form-control mb-3" id="inputCapid" placeholder="Enter your CAP ID" min="100000">
            </div>
           
            <div>
              <div class="col-sm">
                <label class="form-label m-0" for="inputMission">Mission</label> 
              </div>
              <div class="col-md">
                <div class="dropdown">
                  <button class="btn btn-info dropdown-toggle w-50 m-1 p-2" type="button" data-bs-toggle="dropdown">
                    Select a Mission
                  </button>
                  <ul class="dropdown-menu border-info table-striped" id="missionList">
                    <li><a class="dropdown-item" href="#">Not Connected</a></li>
                    <li><a class="dropdown-item" href="#" id="AZ_TEST">AZ_TEST - CACTUS test mission. Play here if you want, but d</a></li>
                    <li><a class="dropdown-item" href="#" id="23-T-3860">23-T-3860 - CD Training</a></li>
                    <script> 
                    //todo this will get populated from mission load
                    $("#AZ_TEST").click(function () { $("#inputMission").val("AZ_TEST");   });
                    $("#23-T-3860").click(function () { $("#inputMission").val("23-T-3860");   });
                  </script>
                  </ul>
                </div>
              </div>


                <input type="text" class="form-control mb-3" id="inputMission" placeholder="Enter Mission Number (23-T-1234)">
            </div>

            <div>
              <label class="form-label" for="inputSortie">Sortie Number: </label>
              <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">A</span>
              <input type="number" class="form-control" id="inputSortie" placeholder="Enter your Sortie Number" min="1" max="1000">
            </div>
          </div>

          Mission Type:
          <select class="form-select mb-3">
            <option value="1" selected>Air</option>
            <option value="2">Ground</option>
            <option value="3">sUAS</option>
            <option value="3">UDF</option>
          </select>

          <div class="mb-3 "> 
            <button class="btn btn-primary" id="btn-setup-complete">Check Status</button>
            </div>
            
            <div class="card collapse bg-success" style="width: 18rem;" id="sortie-status">
              <div class="card-body white-text">
                <h5 class="card-title">CAP 247</h5>
                <p class="card-text">In Progress</p>
              </div>
            </div>
            
            <script>
              $("#btn-setup-complete").on('click', function (e) {                
                //example, but this will move to JS

                //Get Status
                $('#sortie-status').collapse("show");

              });
              </script>

        </form>

        </div>
        
        <!--Debug Tab-->
        <div class="tab-pane fade" id="debug" role="tabpanel"> 
            <h2>Debug</h2>
        <p>
            <button class="btn btn-primary d-inline-flex align-items-center" type="button" data-bs-toggle="collapse" data-bs-target="#alertBar">
                Toggle Alert
              </button>
        </p> 
      </div>

    </div>
    </div>

  </div>

</body>
</html>

